package DynamicProgrammingLearn;

import java.util.Stack;

import org.omg.PortableInterceptor.INACTIVE;

//Given a binary matrix, find the maximum size rectangle binary-sub-matrix with all 1’s
public class MaxSizeSubRectangleWithAll1 {

	static int getMaxArea(Integer[] hist , int len)
	{
		Stack<Integer> stack = new Stack<Integer>();
		int i=0;
		int tp=0;
		int area=0, max_area=0;
		while(i<len)
		{
			if(stack.empty() || hist[stack.peek()] <= hist[i])
			{
				stack.push(i++);
			}
			else
			{
				tp = stack.pop();
				if(stack.isEmpty())
				{
					area= hist[tp]*i;
				}
				
				else
				{
					area = hist[tp]*(i-hist[stack.peek()]-1);
				}
				
				if(area> max_area)
				{
					max_area= area;
				}
			}
			
		}
		
		while(stack.empty() == false)
		{
			tp = stack.pop();
			if(stack.isEmpty())
			{
				area= hist[tp]*i;
			}
			
			else
			{
				area = hist[tp]*(i-hist[stack.peek()]-1);
			}
			
			if(area> max_area)
			{
				max_area= area;
			}
		}
		
		return max_area;
	}
	
	
	static void printMaxSubRectangle(Integer arr[][],int row,int col)
	{
		Integer[] row_Array = new Integer[col];
		
		// copy first row as it in
		for(int i=0; i < col ;i++)
		{
			row_Array[i] = arr[0][i];
		}
		// calcuate its max are and update it
		int max_area = getMaxArea(row_Array, col);
		
		// Calculate area for first row and initialize it as
	    // result
	   // int result = maxArea(A[0]);
	}
	
	public static void main(String[] args) {
		  Integer M[][] ={	{0, 1, 1, 0, 1},
				  			{1, 1, 1, 1, 1},
				  			{1, 1, 1, 1, 1},
				  			{1, 1, 0, 0, 1} };
		                
		  printMaxSubRectangle(M,4,5);
	}
}
